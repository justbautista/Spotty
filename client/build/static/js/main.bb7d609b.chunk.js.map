{"version":3,"sources":["helpers/access.js","helpers/axios.js","helpers/local.js","Loader.js","icons/spotify-icons-logos/icons/01_RGB/02_PNG/Spotify_Icon_RGB_White.png","icons/bird-white.png","Login.js","Track.js","helpers/format.js","Artist.js","Dashboard.js","helpers/authenticators.js","Nav.js","App.js","index.js"],"names":["accessURL","process","join","instance","axios","create","baseURL","setLocalAccessToken","accessToken","setExpirationTime","localStorage","setItem","getLocalAccessToken","getItem","expirationTime","Date","now","getTime","getExpirationTime","Loader","className","style","height","backgroundColor","Login","useState","loading","setLoading","useEffect","code","URLSearchParams","window","location","search","get","error","history","pushState","console","log","post","then","res","refreshToken","data","reload","catch","color","src","birdWhite","borderRadius","href","logo","Track","track","index","songLength","minutes","Math","floor","seconds","toFixed","formatSongLength","duration_ms","album","images","length","url","name","artists","map","artist","Artist","textTransform","genres","genre","width","popularity","Dashboard","type","setType","timeRange","setTimeRange","topTracks","setTopTracks","topArtists","setTopArtists","selectTypeTab","selected","tracks","document","getElementById","classList","contains","toggle","selectedTimeRangeTab","thisMonth","last6Months","prevTimeRangeTab","id","margin","fontSize","cursor","onClick","expirationTimer","logout","removeItem","refreshAccessToken","localRefreshToken","runExpirationTimer","clearTimeout","expiresIn","setTimeout","a","checkLoggedIn","Error","Nav","to","textDecoration","padding","App","isLoggedIn","setIsLoggedIn","ifLoggedIn","path","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bb7d609b.chunk.js","sourcesContent":["const clientID = process.env.REACT_APP_CLIENT_ID\nconst redirectUri = process.env.REACT_APP_REDIRECT_URI\nconst scopes = [\n    'streaming',\n    'user-top-read',\n    'user-read-email',\n    'user-read-private',\n    'user-library-read',\n    'user-library-modify',\n    'user-read-playback-state',\n    'user-modify-playback-state'\n]\n\nexport const accessURL = `https://accounts.spotify.com/authorize?client_id=${ clientID }&response_type=code&redirect_uri=${ redirectUri }&scope=${ scopes.join('%20') }&show_dialog=true`","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://git.heroku.com/song-bird-app-server.git'\n})\n\nexport default instance;","const setLocalAccessToken = (accessToken) => {\n    setExpirationTime()\n    localStorage.setItem('spotify_access_token', accessToken)\n}\n\nconst getLocalAccessToken = () => {\n    return localStorage.getItem('spotify_access_token')\n}\n\nconst setLocalRefreshToken = (refreshToken) => {\n    localStorage.setItem('spotify_refresh_token', refreshToken)\n}\n\nconst getLocalRefreshToken = () => {\n    return localStorage.getItem('spotify_refresh_token')\n}\n\nconst setExpirationTime = () => {\n    const expiresIn = 3600 * 1000\n    const expirationTime = new Date(Date.now() + expiresIn).getTime()\n    localStorage.setItem('spotify_expiration_time', expirationTime)\n}\n\nconst getExpirationTime = () => {\n    return localStorage.getItem('spotify_expiration_time')\n}\n\nexport {\n    setLocalAccessToken,\n    getLocalAccessToken,\n    setLocalRefreshToken,\n    getLocalRefreshToken,\n    getExpirationTime\n}","import React from 'react'\n\nexport default function Loader() {\n    return (\n        <div className='container' style={{ height: '100vh', backgroundColor: 'white' }}></div>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/Spotify_Icon_RGB_White.ecd54051.png\";","export default __webpack_public_path__ + \"static/media/bird-white.5b765ff2.png\";","import { useState, useEffect } from 'react'\nimport { accessURL } from './helpers/access'\nimport axios from './helpers/axios'\nimport {\n    setLocalAccessToken,\n    setLocalRefreshToken\n} from './helpers/local'\nimport Loader from './Loader'\nimport logo from './icons/spotify-icons-logos/icons/01_RGB/02_PNG/Spotify_Icon_RGB_White.png'\nimport birdWhite from './icons/bird-white.png'\n\nexport default function Login() {\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        setLoading(true)\n        const code = new URLSearchParams(window.location.search).get('code')\n        const error = new URLSearchParams(window.location.search).get('error')\n        \n        if (error) {\n            setLoading(false)\n            window.history.pushState({}, null, '/')\n            console.log(error)\n            return\n        }\n\n        if (!code) {\n            setLoading(false)\n            return\n        }\n        \n        axios.post('/auth/login', { code })\n        .then(res => {\n            setLocalAccessToken(res.data.accessToken)\n            setLocalRefreshToken(res.data.refreshToken)\n            window.history.pushState({}, null, '/dashboard')\n            window.location.reload()\n        })\n        .catch((error) => {\n            setLoading(false)\n            return\n        })        \n    }, [])\n\n    if (loading) {\n        return (\n            <Loader />\n        )\n    }\n\n    return (\n        <div className='container-fluid d-flex flex-column justify-content-center align-items-center' style={{ height: '100vh', color: 'white' }}>\n            <div className='text-center'>\n                <img src={ birdWhite } style={{ height: '50px' }}></img>\n                <h1>songbird</h1>\n            </div>\n            <a className='btn btn-lg mt-5' style={{ backgroundColor: '#1DB954', color: 'white', borderRadius: '40px' }} href={ accessURL }>\n                Login\n                <img className='ms-2' style={{ height: '30px' }} src={ logo }></img>    \n            </a>\n        </div>\n    )\n}\n","import React from 'react'\nimport { formatSongLength } from './helpers/format'\n\nexport default function Track({ track, index }) {\n    const songLength = formatSongLength(track.duration_ms)\n\n    return (\n        <li className='list-group-item d-flex justify-content-between align-items-center'>\n            <div className='d-flex flex-row align-items-center justify-content-around me-3'>\n                <small>{ index + 1 }</small>\n                <img className='mx-3' src={ track.album.images[track.album.images.length - 1].url } height='50px'></img>\n                <div className='d-flex flex-column'>\n                    <h6>{ track.name }</h6>\n                    <small>\n                        { \n                            track.artists.map((artist, index) => (\n                                artist.name + (index == track.artists.length - 1 ? '' : ', ')\n                            )) \n                        }\n                    </small>\n                </div>\n            </div>\n            <div className='d-flex flex-row align-items-center text-end'>\n                <small>{ track.album.name }</small>\n                <small className='ms-3'>{ songLength }</small>\n            </div>\n        </li>\n    )\n}\n","const formatSongLength = (songLength) => {\n    let minutes = Math.floor(songLength / 60000);\n    let seconds = ((songLength % 60000) / 1000).toFixed(0);\n    return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\n}\n\nexport {\n    formatSongLength\n}","import React from 'react'\n\nexport default function Artist({ artist, index }) {\n    return (\n        <li className='list-group-item d-flex justify-content-between align-items-center'>\n            <div className='d-flex flex-row align-items-center justify-content-around'>\n                <small>{ index + 1 }</small>\n                <img className='mx-3' src={ artist.images[artist.images.length - 1].url } height='50px'></img>\n                <div className='d-flex flex-column'>\n                    <h5>{ artist.name }</h5>\n                    <small style={{ textTransform: 'capitalize' }}>\n                        { \n                            artist.genres.map((genre, index) => (\n                                genre + (index == artist.genres.length - 1 ? '' : ', ')\n                            )) \n                        }\n                    </small>\n                </div>\n            </div>\n            <div>\n                <div className='progress ms-3' style={{ width: '100px' }}>\n                    <div className='progress-bar' style={{ width: `${artist.popularity}%`, backgroundColor: '#1DB954' }}></div>\n                </div>\n            </div>\n        </li>\n    )\n}\n","import { useState, useEffect } from 'react'\nimport axios from './helpers/axios'\nimport { getLocalAccessToken } from './helpers/local'\nimport Track from './Track'\nimport Artist from './Artist'\n\nexport default function Dashboard() {\n    const [type, setType] = useState('tracks')\n    const [timeRange, setTimeRange] = useState('short_term')\n    const [topTracks, setTopTracks] = useState([])\n    const [topArtists, setTopArtists] = useState([])\n    const accessToken = getLocalAccessToken()\n\n    useEffect(() => {\n        if (type != 'tracks') return\n\n        axios.post('/spotify/topTracks', { timeRange, accessToken })\n        .then((res) => {\n            setTopTracks(res.data.topTracks)\n        })\n        .catch((error) => {\n            return\n        })\n    }, [type, timeRange])\n\n    useEffect(() => {\n        if (type != 'artists') return\n\n        axios.post('/spotify/topArtists', { timeRange, accessToken })\n        .then((res) => {\n            setTopArtists(res.data.topArtists)\n        })\n        .catch((error) => {\n            return\n        })\n    }, [type, timeRange])\n\n    function selectTypeTab(selected) {\n        const tracks = document.getElementById('tracks')\n        const artists = document.getElementById('artists')\n\n        if (selected == 'tracks' && tracks.classList.contains('active')) {\n            return\n        }\n        else if (selected == 'artists' && artists.classList.contains('active')) {\n            return\n        }\n        else {\n            tracks.classList.toggle('active')\n            artists.classList.toggle('active')\n            setType(selected)\n        }\n\n    }\n\n    function selectedTimeRangeTab(selected) {\n        const thisMonth = document.getElementById('this-month')\n        const last6Months = document.getElementById('last-6-months')\n        let prevTimeRangeTab = ''\n\n        if (thisMonth.classList.contains('active')) {\n            prevTimeRangeTab = 'this-month'\n        }\n        else if (last6Months.classList.contains('active')) {\n            prevTimeRangeTab = 'last-6-months'\n        }\n        else {\n            prevTimeRangeTab = 'all-time'\n        }\n\n        if (selected == prevTimeRangeTab) {\n            return\n        }\n        else {\n            document.getElementById(selected).classList.toggle('active')\n            document.getElementById(prevTimeRangeTab).classList.toggle('active')\n        }\n\n        if (selected == 'this-month') {\n            setTimeRange('short_term')\n        }\n        else if (selected == 'last-6-months') {\n            setTimeRange('medium_term')\n        }\n        else {\n            setTimeRange('long_term')\n        }\n    }\n\n    return (\n        <div className='container-fluid' id='top-items-container'>\n            <div className='container-fluid text-center my-5'>\n                <h1 style={{ textTransform: 'capitalize', margin: '0', color: 'white'}}>Top { type }</h1>\n            </div>\n            <div className='d-flex flex-row justify-content-between my-3' style={{ fontSize: '12px' }}>\n                <ul className='nav nav-pills'>\n                    <li style={{ cursor: 'pointer' }} className='nav-item'>\n                        <a className='nav-link active' id='tracks' onClick={() => {\n                            selectTypeTab('tracks')\n                        }}>Tracks</a>\n                    </li>\n                    <li style={{ cursor: 'pointer' }} className='nav-item'>\n                        <a className='nav-link' id='artists' onClick={() => {\n                            selectTypeTab('artists')\n                        }}>Artists</a>\n                    </li>\n                </ul>\n                <ul className='nav nav-pills'>\n                    <li style={{ cursor: 'pointer' }} className='nav-item'>\n                        <a className='nav-link active' id='this-month' onClick={() => {\n                            selectedTimeRangeTab('this-month')\n                        }}>This Month</a>\n                    </li>\n                    <li style={{ cursor: 'pointer' }} className='nav-item'>\n                        <a className='nav-link' id='last-6-months' onClick={() => {\n                            selectedTimeRangeTab('last-6-months')\n                        }}>Last 6 Months</a>\n                    </li>\n                    <li style={{ cursor: 'pointer' }} className='nav-item'>\n                        <a className='nav-link' id='all-time' onClick={() => {\n                            selectedTimeRangeTab('all-time')\n                        }}>All Time</a>\n                    </li>\n                </ul>\n            </div>\n            <ul className='list-group list-group-flush overflow-auto' style={{ height: '100%' }}>\n                {\n                    type == 'tracks' ?\n                    topTracks.map((track, index) => (\n                        <Track \n                            track={ track }\n                            index={ index }\n                            key={ track.id }\n                        />\n                    )) \n                    : \n                    topArtists.map((artist, index) => (\n                        <Artist\n                            artist={ artist }\n                            index={ index }\n                            key={ artist.id }\n                        />\n                    ))\n                }\n            </ul>\n        </div>\n    )\n}\n","import axios from './axios'\nimport {\n    setLocalAccessToken,\n    getLocalAccessToken,\n    getLocalRefreshToken,\n    getExpirationTime,\n} from './local'\n\nconst logout = () => {\n    localStorage.removeItem('spotify_access_token')\n    localStorage.removeItem('spotify_refresh_token')\n    localStorage.removeItem('spotify_expiration_time')\n    window.location.reload()\n}\n\nconst refreshAccessToken = () => {\n    const localRefreshToken = getLocalRefreshToken()\n\n    axios.post('/auth/refresh', { localRefreshToken })\n    .then(res => {\n        setLocalAccessToken(res.data.accessToken)\n    })\n    .catch((error) => {\n        logout()\n    })\n}\n\nlet expirationTimer\nconst runExpirationTimer = () => {\n    if (expirationTimer) {\n        clearTimeout(expirationTimer)\n    }\n\n    const expiresIn = getExpirationTime() - new Date().getTime()\n    console.log(expiresIn)\n    expirationTimer = setTimeout(async () => {\n        await refreshAccessToken()\n        runExpirationTimer()\n    }, expiresIn - 10000)\n}\n\nconst checkLoggedIn = async () => {\n    if (!getLocalAccessToken()) {\n        throw new Error('Missing access token')\n    }\n\n    if (new Date().getTime() > getExpirationTime()) {\n        await refreshAccessToken()\n        //window.location.reload()\n        return\n    }\n    \n    runExpirationTimer()\n    // const spotifyApi = new SpotifyWebApi()\n    // spotifyApi.setAccessToken(getLocalAccessToken())\n    \n    // try {\n    //     await spotifyApi.getMe()\n    //     runExpirationTimer()\n    // } catch (error) {\n    //     console.log('error')\n    // }\n}\n\nexport {\n    checkLoggedIn,\n    logout\n}","import React from 'react'\nimport { Outlet, Link } from 'react-router-dom'\nimport { logout } from './helpers/authenticators'\nimport birdWhite from './icons/bird-white.png'\n\nexport default function Nav() {\n    return (\n        <div className='container-fluid d-flex flex-column'>\n            <div className='container-fluid my-3'>\n                <nav className='row'>\n                    <div className='col d-flex align-items-center justify-content-start' style={{ color: 'white' }}>\n                        <div className='d-flex flex-row align-items-center'>\n                            <img src={ birdWhite } style={{ height: '50px' }}></img>\n                            <h1 style={{ color: '#1DB954' }}>songbird</h1>\n                        </div>\n                    </div>\n                    <div className='col d-flex align-items-center justify-content-center'>\n                        <Link to='' style={{ textDecoration: 'none', color: 'white' }}>Dashboard</Link>\n                    </div>\n                    <div className='col d-flex align-items-center justify-content-end'>\n                        {/* <i style={{ fontSize: 25 }} className='bi bi-gear-fill'></i> */}\n                        <button className='btn btn-outline-danger ms-3' style={{ fontSize: '12px', padding: '8px 16px' }} onClick={ logout }>Logout</button>\n                    </div>\n                </nav>\n            </div>\n\n            <Outlet />\n        </div>\n    )\n}\n","import 'bootstrap/dist/css/bootstrap.min.css'\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport Login from './Login';\nimport Dashboard from './Dashboard';\nimport { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom'\nimport { checkLoggedIn } from './helpers/authenticators'\nimport Loader from './Loader'\nimport Nav from './Nav';\nimport './index.css'\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState()\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const ifLoggedIn = async () => {\n      try {\n        setLoading(true)\n        await checkLoggedIn()\n        setIsLoggedIn(true)\n        setLoading(false)\n      } catch (error) {\n        setIsLoggedIn(false)\n        setLoading(false)\n      }\n    }\n    ifLoggedIn()\n  }, [])\n\n  if (loading) {\n    return (\n      <Loader />\n    )\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path='/' element={ isLoggedIn ? <Navigate to='/dashboard' /> : <Login /> } />\n        <Route path='/dashboard' element={ isLoggedIn ? <Nav /> : <Navigate to='/' /> } >\n          <Route path='' element={ <Dashboard /> } />\n        </Route>\n        <Route path='*' element={ isLoggedIn ? <Navigate to='/dashboard' /> : <Navigate to='/' /> } />\n      </Routes>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}